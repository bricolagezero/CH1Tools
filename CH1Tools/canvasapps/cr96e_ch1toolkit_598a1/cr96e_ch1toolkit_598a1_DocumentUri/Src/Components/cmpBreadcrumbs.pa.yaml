# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
ComponentDefinitions:
  cmpBreadcrumbs:
    DefinitionType: CanvasComponent
    AccessAppScope: true
    CustomProperties:
      Crumbs:
        PropertyKind: Input
        DisplayName: Crumbs
        Description: A custom property
        DataType: Table
        Default: |+
          =Table(
              { ID: 1, Title: "Sample" },
              { ID: 2, Title: "Another Crumb" }
          )
      OnCrumbSelect:
        PropertyKind: Event
        DisplayName: OnCrumbSelect
        Description: A custom property
        ReturnType: None
        Default: =
      SelectedID:
        PropertyKind: Output
        DisplayName: SelectedID
        Description: A custom property
        DataType: Number
    Properties:
      Fill: =RGBA(214, 221, 224, 1)
      Height: =50
      SelectedID: =If(IsBlank(galCrumbs.Selected), Blank(), galCrumbs.Selected.ID)
    Children:
      - galCrumbs:
          Control: Gallery@2.15.0
          Variant: BrowseLayout_Horizontal_TwoTextOneImageOverlayVariant_ver5.0
          Properties:
            Height: =50
            Items: =cmpBreadcrumbs.Crumbs
            OnSelect: |
              =Set(varSelectedCrumbID, ThisItem.ID);
              cmpBreadcrumbs.OnCrumbSelect()
            ShowNavigation: =true
            ShowScrollbar: =false
            TemplateSize: |
              =With(
                  {
                      t: AddColumns(
                          cmpBreadcrumbs.Crumbs,
                          w,
                          Len(Coalesce(ThisRecord.Title, "")) * 8 + 24
                      )
                  },
                  Max(t, "w")
              )
            Transition: =Transition.Push
          Children:
            - Container2:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  Height: =50
                  LayoutAlignItems: =LayoutAlignItems.Center
                  LayoutDirection: =LayoutDirection.Horizontal
                  LayoutJustifyContent: =LayoutJustifyContent.Center
                  Width: |+
                    =Max(80, Len(Coalesce(ThisItem.Title, "")) * 8 + 24)
                Children:
                  - Title3:
                      Control: Button@0.0.45
                      Properties:
                        OnSelect: =cmpBreadcrumbs.OnCrumbSelect()
                        Text: |+
                          =ThisItem.Title
